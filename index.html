<!DOCTYPE html>
<html>

<head>
    <title>Contact Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/css/intlTelInput.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.5.3/css/flag-icon.min.css">
</head>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
    }

    h1 {
        margin-bottom: 20px;
    }

    .input-group {
        display: inline-block;
        margin-bottom: 20px;
    }

    input[type="tel"] {
        padding: 5px;
        border: 1px solid #ccc;
        border-radius: 5px;
        width: 300px;
    }
</style>

<body>
    <h1>Contact Form</h1>
    <form>
        <div class="input-group">
            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number">
        </div>
        <button type="submit">Submit</button>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/intlTelInput.js"></script>
    <script>
        const input = document.querySelector("#phone");

        // Fetch geolocation details using ipinfo.io
        fetch("https://ipinfo.io?token=357f2401d597d3")
            .then((response) => response.json())
            .then((data) => {
                const countryCode = data.country;
                const flagElement = document.querySelector(".iti__selected-flag");
                flagElement.className = `iti__flag iti__${countryCode}`;

                const iti = window.intlTelInput(input, {
                    separateDialCode: true,
                    initialCountry: countryCode,
                });
            })
            .catch((error) => {
                console.error("Error fetching geolocation details:", error);
                // Fallback to a default country code if there was an error in fetching geolocation
                const iti = window.intlTelInput(input, {
                    separateDialCode: true,
                    initialCountry: "us", // You can set a default country code here (e.g., "us" for the United States)
                });
            });

    </script>
</body>

</html>